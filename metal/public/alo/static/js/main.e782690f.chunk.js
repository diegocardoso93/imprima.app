(this.webpackJsonpwasp=this.webpackJsonpwasp||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(12),s=c.n(a),r=(c(28),c(21)),o=c(2),l=c(3),j="https://imprima.app/api",d="".concat(j,"/kind/{id}"),u="".concat(j,"/produto/{id}"),b="".concat(j,"/cep/{id}/{cep}"),h="".concat(j,"/category"),O="".concat(j,"/category/{categoryId}/type/{typeId}"),m="".concat(j,"/attributes/{productId}/{merchantId}"),x=(c(29),c(0));function v(e){var t=e.children;return Object(x.jsxs)("div",{className:"header",children:[t,Object(x.jsx)("div",{className:"close",onClick:function(){history.go(-1),parent.postMessage({active:!1},"*")},children:"\xd7"})]})}c(31);function f(e){var t=e.children;return Object(x.jsx)("div",{className:"body",children:t})}c(32);function p(e){var t=e.size;return Object(x.jsxs)("div",{className:"lds-ring ".concat(t),children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})}c(33);function g(e){var t=e.size;return Object(x.jsx)("svg",{width:"23",height:"39",viewBox:"0 0 23 39",style:{transform:"scale(".concat("small"===t?"1":"0.8",")"),fill:"#444"},children:Object(x.jsx)("path",{className:"slideshow-arrow",d:"M857.005,231.479L858.5,230l18.124,18-18.127,18-1.49-1.48L873.638,248Z",transform:"translate(-855 -230)"})})}function N(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)(!1),s=Object(l.a)(a,2),r=s[0],j=s[1],u=Object(o.f)();Object(n.useEffect)((function(){var e=0;return window.onbeforeunload=function(t){0==e&&(b(),e=1)},window.onpopstate=function(e){b()},function(){window.onbeforeunload=function(){},window.onpopstate=function(){}}}),[]);var b=function(){parent.postMessage({active:!1},"*")};return Object(n.useEffect)((function(){j(!0),fetch(d.replace("{id}",localStorage.getItem("kindId")||"")).then((function(e){return e.json()})).then((function(e){i(e),j(!1)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{children:Object(x.jsxs)("div",{className:"logo",children:[Object(x.jsx)("a",{href:"https://imprima.app",target:"_blank",rel:"noreferrer",className:"logo-link",children:Object(x.jsx)("div",{className:"inner",children:Object(x.jsx)("img",{src:"/img/logo_100.png",alt:""})})}),Object(x.jsx)("h1",{children:"Comprar personalizado"})]})}),Object(x.jsx)(f,{children:r&&Object(x.jsx)("div",{className:"loader-container",children:Object(x.jsx)(p,{size:"large"})})||Object(x.jsx)("div",{className:"page-items",children:Object(x.jsx)("div",{className:"options",children:c.map((function(e){return Object(x.jsxs)("div",{className:"option",onClick:function(){return function(e){u.push("/alo/produto/".concat(e.id).concat(location.search))}(e)},children:[Object(x.jsxs)("div",{className:"left",children:[Object(x.jsx)("img",{src:e.thumb_url,alt:"",className:"image"}),Object(x.jsx)("span",{children:e.name})]}),Object(x.jsx)("span",{className:"select",children:Object(x.jsx)(g,{})})]},e.name)}))})})})]})}c(38);function w(){return Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:Object(x.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[Object(x.jsx)("path",{d:"M0 0H16V16H0z",transform:"matrix(1 0 0 -1 0 16)"}),Object(x.jsx)("path",{fill:"#444",fillRule:"nonzero",d:"M7.631 1.333L6.368 0 0 6.667 6.368 13.333 7.631 12.001 3.428 7.6 13.333 7.601 13.333 5.743 3.418 5.742z",transform:"matrix(1 0 0 -1 0 16) translate(1.333 1.333)"})]})})}function k(){var e=Object(o.g)().id,t=Object(n.useState)(!1),c=Object(l.a)(t,2),i=c[0],a=c[1],s=Object(n.useState)(!1),r=Object(l.a)(s,2),j=r[0],d=r[1],m=Object(n.useState)(null),N=Object(l.a)(m,2),k=N[0],S=N[1],y=Object(n.useState)(null),I=Object(l.a)(y,2),C=I[0],z=I[1],B=Object(n.useState)(null),F=Object(l.a)(B,2),E=F[0],R=F[1],M=Object(n.useState)({loading:!1,show:!1}),P=Object(l.a)(M,2),_=P[0],J=P[1],L=Object(n.useState)(!0),$=Object(l.a)(L,2),q=$[0],A=$[1],H=Object(n.useRef)(),U=Object(n.useState)(),W=Object(l.a)(U,2),D=W[0],K=W[1],Q=Object(n.useState)(!1),V=Object(l.a)(Q,2),Z=V[0],G=V[1],T=Object(o.f)();function X(){d(!0);var t=H.current.value;fetch(b.replace("{id}",e).replace("{cep}",t)).then((function(e){return e.json()})).then((function(e){d(!1),S(e.merchants),localStorage.setItem("address",JSON.stringify(e.address))})).catch((function(e){return d(!1)}))}return Object(n.useEffect)((function(){a(!0),fetch(u.replace("{id}",e)).then((function(e){return e.json()})).then((function(e){a(!1),K(e);var t=JSON.parse(localStorage.getItem("address"));(null===t||void 0===t?void 0:t.zip)&&(H.current.value=t.zip,X())})).catch((function(e){return a(!1)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{children:Object(x.jsxs)("div",{className:"title",children:[Object(x.jsx)("div",{onClick:function(){return T.goBack()},children:Object(x.jsx)(w,{})}),Object(x.jsx)("div",{children:null===D||void 0===D?void 0:D.name})]})}),Object(x.jsx)(f,{children:i&&Object(x.jsx)("div",{className:"loader-container",children:Object(x.jsx)(p,{size:"large"})})||Object(x.jsxs)("div",{className:"page-detail",children:[Object(x.jsxs)("div",{className:"item ".concat(!q&&"hidden"),children:[Object(x.jsx)("img",{src:null===D||void 0===D?void 0:D.url,alt:null===D||void 0===D?void 0:D.name}),Object(x.jsxs)("div",{className:"hcategory",children:[Object(x.jsxs)("div",{className:"switch-container",children:["trocar estampa",Object(x.jsxs)("label",{className:"switch",children:[Object(x.jsx)("input",{type:"checkbox",onChange:function(){_.show?J({loading:!1,show:!1}):(J({loading:!0,show:!0}),fetch(h,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){J({loading:!1,show:!0}),z(e)})).catch((function(e){return J({loading:!1,show:!1})})))}}),Object(x.jsx)("span",{className:"slider round"})]})]}),Object(x.jsx)("div",{className:"category-container",children:_.show&&(_.loading&&Object(x.jsx)(p,{})||Object(x.jsxs)("select",{onChange:function(e){var t=e.target.value;G(!0),fetch(O.replace("{categoryId}",t).replace("{typeId}",D.type_id),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){R(e),G(!1)})).catch((function(e){return G(!1)}))},children:[Object(x.jsx)("option",{children:"selecione"}),null===C||void 0===C?void 0:C.map((function(e){return Object(x.jsx)("option",{value:e.id,children:e.name},e.id)}))]}))})]}),Object(x.jsx)("div",{className:"image-list",children:_.show&&(Z&&Object(x.jsx)(p,{})||E&&E.map((function(e){return Object(x.jsx)("img",{src:e.thumb_url,onClick:function(){K(e)}},e.id)})))})]}),Object(x.jsxs)("div",{className:"stores",children:[Object(x.jsxs)("div",{className:"find",children:[Object(x.jsx)("button",{onClick:function(){return A(!q)},children:Object(x.jsx)("span",{className:"".concat(q?"bottom":"top"),children:"\xbb"})}),Object(x.jsx)("input",{ref:H,onKeyUp:function(e){"Enter"===e.key&&X()},placeholder:"Digite seu CEP"}),Object(x.jsx)("button",{onClick:function(){return X()},children:j&&Object(x.jsx)(p,{})||"\ud83d\udd0d"})]}),Object(x.jsx)("div",{className:"list",children:k&&((null===k||void 0===k?void 0:k.length)&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"item",children:[Object(x.jsx)("div",{className:"i1 b",children:"Fornecedor"}),Object(x.jsx)("div",{className:"i2 b",children:"Pre\xe7o"}),Object(x.jsx)("div",{className:"i3 b",children:"Frete"}),Object(x.jsx)("span",{className:"i5",children:"\xa0"})]}),k.map((function(e){return Object(x.jsxs)("div",{className:"item",children:[Object(x.jsxs)("div",{className:"i1",children:[e.name,Object(x.jsx)("br",{}),Object(x.jsxs)("span",{className:"small",children:[e.city," - ",e.uf]})]}),Object(x.jsxs)("div",{className:"i2",children:[Object(x.jsx)("div",{className:"small",children:"a partir de"}),"R$",e.price]}),Object(x.jsx)("div",{className:"i3",children:e.delivery}),Object(x.jsx)("span",{className:"i5",onClick:function(){return function(e){T.push("/alo/checkout/".concat(D.id,"/").concat(e.id).concat(location.search))}(e)},children:Object(x.jsx)(g,{size:"small"})})]},e.id)}))]})||Object(x.jsx)("h3",{children:"Nenhum fornecedor na sua localidade."}))})]})]})})]})}c(39);function S(){var e=Object(o.g)(),t=e.productId,c=e.merchantId,i=Object(o.f)(),a=Object(n.useState)(!1),s=Object(l.a)(a,2),r=s[0],j=s[1],d=Object(n.useState)(),u=Object(l.a)(d,2),b=u[0],h=u[1],O=Object(n.useState)(),g=Object(l.a)(O,2),N=g[0],k=g[1],S=Object(n.useState)(),y=Object(l.a)(S,2),I=y[0],C=y[1],z=Object(n.useState)(),B=Object(l.a)(z,2),F=B[0],E=B[1],R=Object(n.useState)(1),M=Object(l.a)(R,2),P=M[0],_=M[1],J=Object(n.useState)(0),L=Object(l.a)(J,2),$=L[0],q=L[1],A=Object(n.useState)(0),H=Object(l.a)(A,2),U=H[0],W=H[1];function D(e,t){q(t),W(e*t)}return Object(n.useEffect)((function(){j(!0),fetch(m.replace("{productId}",t).replace("{merchantId}",c)).then((function(e){return e.json()})).then((function(e){h(e.product),C(e.attributes),k(e.merchant),j(!1)})).catch((function(e){return j(!1)}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{children:Object(x.jsxs)("div",{className:"title",children:[Object(x.jsx)("div",{onClick:function(){return i.goBack()},children:Object(x.jsx)(w,{})}),Object(x.jsx)("div",{children:null===N||void 0===N?void 0:N.name})]})}),Object(x.jsx)(f,{children:r&&Object(x.jsx)("div",{className:"loader-container",children:Object(x.jsx)(p,{size:"large"})})||Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"page-checkout",children:[Object(x.jsx)("h5",{children:null===b||void 0===b?void 0:b.name}),Object(x.jsxs)("div",{className:"first",children:[Object(x.jsx)("div",{className:"left-container",children:Object(x.jsx)("img",{src:null===b||void 0===b?void 0:b.url,alt:null===b||void 0===b?void 0:b.name})}),Object(x.jsxs)("div",{className:"right-container",children:[Object(x.jsxs)("div",{className:"attributes-container",children:[I&&I[0].type,Object(x.jsx)("div",{className:"options",children:null===I||void 0===I?void 0:I.map((function(e,t){return Object(x.jsx)("div",{className:"button-check ".concat((null===F||void 0===F?void 0:F.id)===e.id&&"selected"),onClick:function(){D(P,e.price),E(e)},children:e.value},t)}))})]}),Object(x.jsxs)("div",{className:"quantity-container",children:[Object(x.jsx)("span",{children:"Quantidade"}),Object(x.jsx)("input",{type:"number",value:P,onChange:function(e){D(e.target.value,$),_(e.target.value)}})]}),Object(x.jsxs)("div",{className:"price-container",children:[Object(x.jsx)("span",{children:"Pre\xe7o final"}),Object(x.jsxs)("div",{children:["R$",U]})]})]})]}),Object(x.jsx)("div",{className:"next",children:Object(x.jsx)("button",{onClick:function(){$?i.push("/alo/checkout-info".concat(location.search)):alert("escolha o tamanho e a quantidade")},children:"Prosseguir"})})]})})})]})}c(40);function y(){var e=Object(o.f)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{children:Object(x.jsx)("div",{className:"title",children:Object(x.jsx)("div",{onClick:function(){return e.goBack()},children:Object(x.jsx)(w,{})})})}),Object(x.jsx)(f,{children:Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"page-checkout-info",children:Object(x.jsxs)("div",{className:"buyer",children:[Object(x.jsx)("div",{children:"Endere\xe7o de entrega"}),Object(x.jsx)("input",{placeholder:"Nome"}),Object(x.jsx)("input",{placeholder:"Rua, bairro, n\xfamero, complemento"}),Object(x.jsx)("input",{placeholder:"Cidade"}),Object(x.jsx)("input",{placeholder:"Celular"}),Object(x.jsx)("button",{onClick:function(){},children:"Pagar"})]})})})})]})}var I=function(){return Object(x.jsx)(r.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{path:"/alo/",exact:!0,children:Object(x.jsx)(N,{})}),Object(x.jsx)(o.a,{path:"/alo/produto/:id",children:Object(x.jsx)(k,{})}),Object(x.jsx)(o.a,{path:"/alo/checkout/:productId/:merchantId",children:Object(x.jsx)(S,{})}),Object(x.jsx)(o.a,{path:"/alo/checkout-info",children:Object(x.jsx)(y,{})})]})})},C=c(14),z=Object(C.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),B=z.actions,F=(B.increment,B.decrement,B.incrementByAmount,z.reducer),E=Object(C.a)({reducer:{counter:F}}),R=c(23);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=new URLSearchParams(window.location.search);localStorage.setItem("kindId",M.get("kindId")||"2"),localStorage.setItem("imprimaId",M.get("imprimaId")||""),s.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(R.a,{store:E,children:Object(x.jsx)(I,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.e782690f.chunk.js.map